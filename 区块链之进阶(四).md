# 区块链之进阶(四)
---

### 比特币的工作原理

<div align = "center">
<img src="https://raw.githubusercontent.com/lengender/MarkdownPhotos/master/%E6%AF%94%E7%89%B9%E5%B8%81.jpeg" width="500" height="400"/>
    </div>


中本聪如何做到自证其信的？这取决于区块链的工作原理：
1. 广播比特币网络中的每一笔交易，使每个参与者(指矿工)都记录下这笔交易
2. 每个参与者接收到交易信息后，都要将该笔交易盖上时间戳，收入区块
3. 由于每个矿工都做了工作，谁获得奖励呢?此时参与者们要通过一个计算游戏，谁能最快解出SHA256运算的值，谁就赢得打包区块的权利，并获得系统的25个比特币奖励。这个数量的设定是每4年减半。
4. 获得记账权的矿工将向全网广播这十分钟内盖了时间戳的交易，其他参与者将核对这些账目
5. 当其他参与者都确认无误后，该区块就确认合法，就进入了下一轮的区块争夺战。多个区块逐渐形成区块链


通俗一点说，区块链是一个收录所有历史交易的总账，每个区块中包含若干笔交易记录。如果说区块链是账本，那么区块就是账本的每一页。交易的细节都被记录在一个网络里任何人都可以看得到的公开帐簿上。区块就是很多交易数据的集合，它被标记上时间戳和之前一个区块的独特标记。有效的区块获得全网络的共识认可以后会被追加到主区块链中。区块链是有包含交易信息的区块从后向前有序链接起来的数据结构。

当一个交易被区块收录的时候，可以被认为是一次确认。在此区块之后每产生一个区块，此项的交易数就再加一。当确认数目达到六次以上的时候，通常就能认为此项交易比较安全且不可逆转。那么现在，这笔交易已经在比特币网络上传播开，但只有通过验证且加到一个区块中的时候，这笔交易才能称为区块链的一部分。


每个区块头都会进行SHA256哈希加密，生成一个哈希值，通过这个值，我们可以在区块链中识别出特定区块，并且每个区块头都还包含它的父区块的哈希值。

<div align = "center">
<img src="https://raw.githubusercontent.com/lengender/MarkdownPhotos/master/%E5%8C%BA%E5%9D%97%E5%A4%B4.png" width="500" height="400"/>
    </div>

每一个子区块都只有一个父区块，但一个父区块可以暂时拥有很多子区块，这种情况被称为区块链分叉。这种只有当不同的矿工在同一时刻发现不同的区块时才会发生。这时解决的方法就是，每一个节点总是选择并尝试延迟拥有最大工作量证明(最长或最大难度)的区块链。







